---
// Animated visual components for hero and sections
export interface Props {
  type: 'network' | 'data-flow' | 'targeting' | 'growth'
  className?: string
}

const { type, className = '' } = Astro.props
---

{type === 'network' && (
  <div class={`animated-network ${className}`}>
    <svg viewBox="0 0 400 300" class="w-full h-full">
      <!-- Network nodes -->
      <circle cx="200" cy="150" r="8" fill="#00B0F1" class="animate-pulse">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" repeatCount="indefinite" />
      </circle>
      <circle cx="100" cy="100" r="5" fill="#FFB231" class="animate-pulse delay-100">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" begin="0.5s" repeatCount="indefinite" />
      </circle>
      <circle cx="300" cy="100" r="5" fill="#FF5253" class="animate-pulse delay-200">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" begin="1s" repeatCount="indefinite" />
      </circle>
      <circle cx="150" cy="200" r="5" fill="#00B0F1" class="animate-pulse delay-300">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" begin="1.5s" repeatCount="indefinite" />
      </circle>
      <circle cx="250" cy="200" r="5" fill="#FFB231" class="animate-pulse delay-400">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" begin="2s" repeatCount="indefinite" />
      </circle>

      <!-- Connecting lines -->
      <line x1="200" y1="150" x2="100" y2="100" stroke="#00B0F1" stroke-width="1" opacity="0.3">
        <animate attributeName="stroke-dasharray" values="0 150;150 0" dur="2s" repeatCount="indefinite" />
      </line>
      <line x1="200" y1="150" x2="300" y2="100" stroke="#FFB231" stroke-width="1" opacity="0.3">
        <animate attributeName="stroke-dasharray" values="0 150;150 0" dur="2s" begin="0.5s" repeatCount="indefinite" />
      </line>
      <line x1="200" y1="150" x2="150" y2="200" stroke="#FF5253" stroke-width="1" opacity="0.3">
        <animate attributeName="stroke-dasharray" values="0 150;150 0" dur="2s" begin="1s" repeatCount="indefinite" />
      </line>
      <line x1="200" y1="150" x2="250" y2="200" stroke="#00B0F1" stroke-width="1" opacity="0.3">
        <animate attributeName="stroke-dasharray" values="0 150;150 0" dur="2s" begin="1.5s" repeatCount="indefinite" />
      </line>
    </svg>
  </div>
)}

{type === 'data-flow' && (
  <div class={`animated-data-flow ${className}`}>
    <svg viewBox="0 0 400 300" class="w-full h-full">
      <!-- Data particles -->
      {[...Array(5)].map((_, i) => (
        <circle r="3" fill="#00B0F1" opacity="0.8">
          <animateMotion dur={`${3 + i}s`} repeatCount="indefinite" begin={`${i * 0.5}s`}>
            <mpath href="#flow-path" />
          </animateMotion>
        </circle>
      ))}
      {[...Array(3)].map((_, i) => (
        <circle r="3" fill="#FFB231" opacity="0.8">
          <animateMotion dur={`${4 + i}s`} repeatCount="indefinite" begin={`${i * 0.7}s`}>
            <mpath href="#flow-path2" />
          </animateMotion>
        </circle>
      ))}

      <!-- Flow paths -->
      <path id="flow-path" d="M50 150 Q200 50 350 150" stroke="none" fill="none" />
      <path id="flow-path2" d="M350 150 Q200 250 50 150" stroke="none" fill="none" />

      <!-- Visual paths -->
      <path d="M50 150 Q200 50 350 150" stroke="#00B0F1" stroke-width="1" fill="none" opacity="0.2" />
      <path d="M350 150 Q200 250 50 150" stroke="#FFB231" stroke-width="1" fill="none" opacity="0.2" />
    </svg>
  </div>
)}

{type === 'targeting' && (
  <div class={`animated-targeting ${className}`}>
    <svg viewBox="0 0 400 400" class="w-full h-full">
      <!-- Radar circles -->
      <circle cx="200" cy="200" r="60" fill="none" stroke="#00B0F1" stroke-width="1" opacity="0.3">
        <animate attributeName="r" values="60;100;60" dur="3s" repeatCount="indefinite" />
        <animate attributeName="opacity" values="0.3;0.1;0.3" dur="3s" repeatCount="indefinite" />
      </circle>
      <circle cx="200" cy="200" r="100" fill="none" stroke="#FFB231" stroke-width="1" opacity="0.3">
        <animate attributeName="r" values="100;140;100" dur="3s" begin="1s" repeatCount="indefinite" />
        <animate attributeName="opacity" values="0.3;0.1;0.3" dur="3s" begin="1s" repeatCount="indefinite" />
      </circle>
      <circle cx="200" cy="200" r="140" fill="none" stroke="#FF5253" stroke-width="1" opacity="0.3">
        <animate attributeName="r" values="140;180;140" dur="3s" begin="2s" repeatCount="indefinite" />
        <animate attributeName="opacity" values="0.3;0.1;0.3" dur="3s" begin="2s" repeatCount="indefinite" />
      </circle>

      <!-- Center target -->
      <circle cx="200" cy="200" r="8" fill="#00B0F1" />
      <circle cx="200" cy="200" r="4" fill="#FCFCFC" />

      <!-- Scanning line -->
      <line x1="200" y1="200" x2="200" y2="60" stroke="#00B0F1" stroke-width="2" opacity="0.6">
        <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="4s" repeatCount="indefinite" />
      </line>
    </svg>
  </div>
)}

{type === 'growth' && (
  <div class={`animated-growth ${className}`}>
    <svg viewBox="0 0 400 300" class="w-full h-full">
      <!-- Growth bars -->
      <rect x="80" y="200" width="40" height="0" fill="#00B0F1" opacity="0.8">
        <animate attributeName="height" values="0;80;80" dur="2s" repeatCount="indefinite" />
        <animate attributeName="y" values="200;120;120" dur="2s" repeatCount="indefinite" />
      </rect>
      <rect x="140" y="200" width="40" height="0" fill="#FFB231" opacity="0.8">
        <animate attributeName="height" values="0;120;120" dur="2s" begin="0.5s" repeatCount="indefinite" />
        <animate attributeName="y" values="200;80;80" dur="2s" begin="0.5s" repeatCount="indefinite" />
      </rect>
      <rect x="200" y="200" width="40" height="0" fill="#FF5253" opacity="0.8">
        <animate attributeName="height" values="0;60;60" dur="2s" begin="1s" repeatCount="indefinite" />
        <animate attributeName="y" values="200;140;140" dur="2s" begin="1s" repeatCount="indefinite" />
      </rect>
      <rect x="260" y="200" width="40" height="0" fill="#00B0F1" opacity="0.8">
        <animate attributeName="height" values="0;140;140" dur="2s" begin="1.5s" repeatCount="indefinite" />
        <animate attributeName="y" values="200;60;60" dur="2s" begin="1.5s" repeatCount="indefinite" />
      </rect>

      <!-- Trend line -->
      <polyline points="100,180 160,140 220,160 280,80" fill="none" stroke="#FCFCFC" stroke-width="2" opacity="0">
        <animate attributeName="opacity" values="0;0.5;0.5;0" dur="2s" begin="2s" repeatCount="indefinite" />
      </polyline>
    </svg>
  </div>
)}

<style>
  .animated-network,
  .animated-data-flow,
  .animated-targeting,
  .animated-growth {
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
</style>